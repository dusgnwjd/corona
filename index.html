<!DOCTYPE html>
<html>
<head>
   <meta charset="utf-8">
   <title>우리동네 확진자 지도</title>
</head>
<body>
   <div id="map" style="width:100%;height:100vh;"></div>

   <script type="text/javascript" src="https://dapi.kakao.com/v2/maps/sdk.js?appkey=14e5680a5b25d7c63332407af7115db3&libraries=services,clusterer,drawing"></script>
   <script>
      var mapContainer = document.getElementById('map'),  
          mapOption = {
              center: new kakao.maps.LatLng(37.39420594600511, 127.12675315082822),
              level: 6,
              mapTypeId : kakao.maps.MapTypeId.ROADMAP, 
             draggable : true
          }; 

      var map = new kakao.maps.Map(mapContainer, mapOption);
// 마커 클러스터러를 생성합니다 
    var clusterer = new kakao.maps.MarkerClusterer({
        map: map, // 마커들을 클러스터로 관리하고 표시할 지도 객체 
        averageCenter: true, // 클러스터에 포함된 마커들의 평균 위치를 클러스터 마커 위치로 설정 
        minLevel: 10 // 클러스터 할 최소 지도 레벨 
    });
 
      var clickHandler = function(event) {    
        alert('click: ' + event.latLng.toString());   
      }; 
 
      kakao.maps.event.addListener(map, 'click', clickHandler);

      var icon = new kakao.maps.MarkerImage(
        'house.png',
        new kakao.maps.Size(31, 35),
        {
            offset: new kakao.maps.Point(16, 34),
            alt: "우리집",
            shape: "poly",
            coords: "1,20,1,9,5,2,10,0,21,0,27,3,30,9,30,20,17,33,14,33"
        }
      );

      var housePosition = new kakao.maps.LatLng(37.39420594600511, 127.12675315082822);
      var houseMarker = new kakao.maps.Marker({
          position: housePosition ,
          image: icon,
          title: "우리집"
      });
      houseMarker.setMap(map);

      var mLabel = new kakao.maps.InfoWindow({
        position: housePosition, 
        content: '우리집' 
      });
      mLabel.open(map, houseMarker); 
   
      var markers = [];

      // 확진자 1
      var a = new kakao.maps.LatLng(37.40641917609071, 127.11355871906522)
      var marker = new kakao.maps.Marker({
          position: a 
      }); 
      marker.setMap(map);

      var mLabel = new kakao.maps.InfoWindow({
        position: a, 
        content: '여/97년생/3월28일'
      });
      mLabel.open(map, marker); 

      // 확진자 2
      var a = new kakao.maps.LatLng(37.36771353882561, 127.11112965295376)
      var marker = new kakao.maps.Marker({
          position: a 
      }); 
      marker.setMap(map);

      var mLabel = new kakao.maps.InfoWindow({
        position: a, 
        content: '여/93년생/4월4일'
      });
      mLabel.open(map, marker); 
      
      // 확진자 3
      var a = new kakao.maps.LatLng(37.368554348170655, 127.11749800006542)
      var marker = new kakao.maps.Marker({
          position: a 
      }); 
      marker.setMap(map);

      var mLabel = new kakao.maps.InfoWindow({
        position: a, 
        content: '여/67년생/4월4일'
      });
      mLabel.open(map, marker); 
        
      // 확진자 4
      var a = new kakao.maps.LatLng(37.37483607133057, 127.10630798055666)
      var marker = new kakao.maps.Marker({
          position: a 
      }); 
      marker.setMap(map);

      var mLabel = new kakao.maps.InfoWindow({
        position: a, 
        content: '남/01년생/3월25일'
      });
      mLabel.open(map, marker); 
           
      // 확진자 5
      var a = new kakao.maps.LatLng(37.38743371180879, 127.12348964567663)
      var marker = new kakao.maps.Marker({
          position: a 
      }); 
      marker.setMap(map);

      var mLabel = new kakao.maps.InfoWindow({
        position: a, 
        content: '여/56년생/3월22일'
      });
      mLabel.open(map, marker); 
            
      // 확진자 6
      var a = new kakao.maps.LatLng(37.409409308429616, 127.13211015355576)
      var marker = new kakao.maps.Marker({
          position: a 
      }); 
      marker.setMap(map);

      var mLabel = new kakao.maps.InfoWindow({
        position: a, 
        content: '여/61년생/4월1일'
      });
      mLabel.open(map, marker); 
        // 확진자 7
      var a = new kakao.maps.LatLng(37.409409308429616, 127.13211015355576)
      var marker = new kakao.maps.Marker({
          position: a 
      }); 
      marker.setMap(map);

      var mLabel = new kakao.maps.InfoWindow({
        position: a, 
        content: '여/61년생/4월1일'
      });
      mLabel.open(map, marker); 
        // 확진자 8
      var a = new kakao.maps.LatLng(37.381232686706205, 127.12537638088068)
      var marker = new kakao.maps.Marker({
          position: a 
      }); 
      marker.setMap(map);

      var mLabel = new kakao.maps.InfoWindow({
        position: a, 
        content: '여/96년생/4월12일'
      });
      mLabel.open(map, marker); 
      
        // 확진자 9
      var a = new kakao.maps.LatLng(37.40648466577834, 127.14438255562263)
      var marker = new kakao.maps.Marker({
          position: a 
      }); 
      marker.setMap(map);

      var mLabel = new kakao.maps.InfoWindow({
        position: a, 
        content: '여/58년생/3월17일'
      });
      mLabel.open(map, marker); 
      
        // 확진자 10
      var a = new kakao.maps.LatLng(37.3899170644257, 127.1180648982962)
      var marker = new kakao.maps.Marker({
          position: a 
      }); 
      marker.setMap(map);

      var mLabel = new kakao.maps.InfoWindow({
        position: a, 
        content: '여/49년생/3월16일'
      });
      mLabel.open(map, marker); 
      
       // 확진자 11
      var a = new kakao.maps.LatLng(37.392394686397225, 127.12694490128696)
      var marker = new kakao.maps.Marker({
          position: a 
      }); 
      marker.setMap(map);

      var mLabel = new kakao.maps.InfoWindow({
        position: a, 
        content: '여/67년생/3월15일'
      });
      mLabel.open(map, marker); 
       // 확진자 12
      var a = new kakao.maps.LatLng(37.39386398118976, 127.10818689770258)
      var marker = new kakao.maps.Marker({
          position: a 
      }); 
      marker.setMap(map);

      var mLabel = new kakao.maps.InfoWindow({
        position: a, 
        content: '남/97년생/4월25일'
      });
      mLabel.open(map, marker); 
      
        // 확진자 13
      var a = new kakao.maps.LatLng(37.372013198798975, 127.11858720714412)
      var marker = new kakao.maps.Marker({
          position: a 
      }); 
      marker.setMap(map);

      var mLabel = new kakao.maps.InfoWindow({
        position: a, 
        content: '여/05년생/4월22일'
      });
      mLabel.open(map, marker); 
      
        
        // 확진자 14
      var a = new kakao.maps.LatLng(37.40300888748768, 127.12678491875243)
      var marker = new kakao.maps.Marker({
          position: a 
      }); 
      marker.setMap(map);

      var mLabel = new kakao.maps.InfoWindow({
        position: a, 
        content: '여/91년생/4월11일'
      });
      mLabel.open(map, marker); 
      
      // 확진자 15
      var a = new kakao.maps.LatLng(37.35011072649152, 127.11709115519926)
      var marker = new kakao.maps.Marker({
          position: a 
      }); 
      marker.setMap(map);

      var mLabel = new kakao.maps.InfoWindow({
        position: a, 
        content: '여/99년생/4월15일'
      });
      mLabel.open(map, marker); 
      
       
      // 확진자 16
      var a = new kakao.maps.LatLng(37.408688342801824, 127.13224443011842)
      var marker = new kakao.maps.Marker({
          position: a 
      }); 
      marker.setMap(map);

      var mLabel = new kakao.maps.InfoWindow({
        position: a, 
        content: '남/63년생/3월25일'
         var iwContent = '<div style="padding:5px;">https://corona.seongnam.go.kr/</div>', // 인포윈도우에 표출될 내용으로 HTML 문자열이나 document element가 가능합니다
    iwRemoveable = true; // removeable 속성을 ture 로 설정하면 인포윈도우를 닫을 수 있는 x버튼이 표시됩니다

// 인포윈도우를 생성합니다
      var infowindow = new kakao.maps.InfoWindow({
         content : iwContent,
         removable : iwRemoveable
      });

// 마커에 클릭이벤트를 등록합니다
      kakao.maps.event.addListener(marker, 'click', function() {
      // 마커 위에 인포윈도우를 표시합니다
            infowindow.open(map, marker);  
            });
          mLabel.open(map, marker); 
          markers.push(marker); 
   </script>
   clusterer.addMarkers(markers);
</body>
</html>
